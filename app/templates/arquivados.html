<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Animais Arquivados</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

	<style>
		.card-animal {
			position: relative;
			overflow: hidden;
			cursor: pointer;
			transition: transform 0.3s;
		}

		.card-animal img {
			width: 100%;
			height: auto;
			display: block;
			transition: transform 0.3s;
		}

		.card-animal:hover img {
			transform: scale(1.05);
		}

		.overflow-info {
			position: absolute;
			bottom: 0;
			background: rgba(0, 0, 0, 0.7);
			color: #fff;
			width: 100%;
			padding: 10px;
			opacity: 0;
			transition: opacity 0.3s;
		}

		.card-animal:hover .overflow-info {
			opacity: 1;
		}

		.opcoes-hover {
			position: absolute;
			top: 10px;
			right: 10px;
			display: none;
			flex-direction: column;
			gap: 5px;
			z-index: 1;
		}

		.card-animal:hover .opcoes-hover {
			display: flex;
		}
	</style>
	
</head>
<body class="bg-light">
	<div class="container py-4">
		<h1 class="mb-4">Animais Arquivados</h1>

		<a href="{{ url_for('perfil', apelido=session['usuario_apelido']) }}" class="btn btn-secondary mb-4">← Voltar para a página inicial</a>
		
		{% if animais %}
			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
				{% for animal in animais %}
				<div class="col">
					<div class="card-animal border rounded shadow-sm">
						
						<div class="opcoes-hover">
							{% if session["usuario_id"] == animal[7] %}
								<a href="{{ url_for('desarquivar', id=animal[0]) }}" class="btn btn-success btn-sm">Desarquivar</a>
								<a href="{{ url_for('excluir', id=animal[0]) }}" class="btn btn-danger btn-sm" onclick="return confirm('Tem certeza que deseja excluir este animal?');">Excluir</a>
							{% endif %}
						</div>

						<img src="{{ animal[6] }}" alt="Foto do animal {{ animal[1] }}">
						
						<div class="overflow-info">
							<strong>{{ animal[1] }}</strong><br>
							Espécie: {{ animal[2] }}<br>
							Raça: {{ animal[3] }}<br>
							{{ animal[5] }}
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		{% else %}
			<p class="text-muted">Nenhum animal arquivado por enquanto.</p>
		{% endif %}	
	</div>	
</body>
</html>